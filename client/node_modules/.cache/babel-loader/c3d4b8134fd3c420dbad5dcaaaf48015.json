{"ast":null,"code":"var _jsxFileName = \"/Users/cbatsoula/_exp_/test-waveson-client/src/containers/MainContainer.js\";\nimport React from 'react';\nimport Banner from '../components/Banner';\nimport BeachContainer from './BeachContainer';\nimport FavContainer from './FavContainer';\n\nclass MainContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      beachSaveData: null,\n      theFavs: []\n    };\n\n    this.doTheThing = () => {\n      const finalArray = [];\n      let arr1 = this.props.allBeaches.map(beach => {\n        return beach;\n      });\n      let arr2 = this.state.beachSaveData.map(fav => {\n        return fav;\n      });\n      let userID = this.props.currentUser.id; // debugger;\n\n      arr1.forEach(e1 => arr2.forEach(e2 => {\n        if (e1.id === e2.beach_id && userID === e2.user_id) {\n          // debugger;\n          finalArray.push(e1);\n        }\n      }));\n      return finalArray; // console.log(\"final array\", finalArray)\n\n      this.setState({\n        theFavs: finalArray\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/favs').then(r => r.json()).then(data => {\n      // console.log(\"wtf my dude\", data)\n      this.setState({\n        beachSaveData: data\n      }, () => {\n        this.doTheThing();\n      });\n    });\n  } // renderBeachStuff = () => {\n  // let beachID = this.props.allBeaches.map(beach => {\n  //   return beach.id\n  // })\n  // if (this.state.beachSaveData > 1) {\n  // let compare = this.state.beachSaveData.filter(fav => {\n  //   // debugger;\n  //   return fav.beach_id\n  // debugger;\n  //   })\n  //   // }\n  //   console.log(\"render saved\", beachID, compare)\n  // }\n\n\n  render() {\n    console.log(\"main\", this.props.beachSaveData, this.props.currentUser);\n    return React.createElement(\"div\", {\n      className: \"Main-Container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Banner, {\n      title: \"Nearby\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(BeachContainer, {\n      selectBeach: this.props.selectBeach,\n      beachData: this.props.beachData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Banner, {\n      title: \"Saved\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.beachSaveData ? React.createElement(FavContainer, {\n      currentUser: this.props.currentUser,\n      selectBeach: this.props.selectBeach,\n      theFavs: this.doTheThing(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default MainContainer;","map":{"version":3,"sources":["/Users/cbatsoula/_exp_/test-waveson-client/src/containers/MainContainer.js"],"names":["React","Banner","BeachContainer","FavContainer","MainContainer","Component","state","beachSaveData","theFavs","doTheThing","finalArray","arr1","props","allBeaches","map","beach","arr2","fav","userID","currentUser","id","forEach","e1","e2","beach_id","user_id","push","setState","componentDidMount","fetch","then","r","json","data","render","console","log","selectBeach","beachData"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Banner from '../components/Banner';\nimport BeachContainer from './BeachContainer';\nimport FavContainer from './FavContainer';\n\n\nclass MainContainer extends React.Component {\n\n  state = {\n    beachSaveData: null,\n    theFavs: [],\n  }\n\n\n  componentDidMount() {\n    fetch('http://localhost:3000/favs')\n      .then( r => r.json())\n      .then( data => {\n        // console.log(\"wtf my dude\", data)\n        this.setState({\n          beachSaveData: data\n        }, () => {this.doTheThing()})\n      })\n  }\n\n  // renderBeachStuff = () => {\n    // let beachID = this.props.allBeaches.map(beach => {\n    //   return beach.id\n    // })\n    // if (this.state.beachSaveData > 1) {\n    // let compare = this.state.beachSaveData.filter(fav => {\n    //   // debugger;\n    //   return fav.beach_id\n      // debugger;\n  //   })\n  //   // }\n  //   console.log(\"render saved\", beachID, compare)\n  // }\n\n\n  doTheThing = () => {\n    const finalArray = [];\n    let arr1 = this.props.allBeaches.map(beach => {\n      return beach\n    })\n    let arr2 = this.state.beachSaveData.map(fav => {\n      return fav\n    })\n    let userID = this.props.currentUser.id\n    // debugger;\n    arr1.forEach((e1) => arr2.forEach((e2) =>\n      {if (e1.id === e2.beach_id && userID === e2.user_id ){\n        // debugger;\n        finalArray.push(e1)\n      }\n    }\n  ))\n  return finalArray\n  // console.log(\"final array\", finalArray)\n  this.setState({\n    theFavs: finalArray\n  })\n  }\n\n  render () {\n    console.log(\"main\", this.props.beachSaveData, this.props.currentUser)\n    return (\n      <div className=\"Main-Container\">\n        <Banner title={\"Nearby\"}/>\n        <BeachContainer selectBeach={this.props.selectBeach} beachData={this.props.beachData}/>\n        <Banner title={\"Saved\"}/>\n        {\n          this.state.beachSaveData\n          ?\n          <FavContainer currentUser={this.props.currentUser} selectBeach={this.props.selectBeach} theFavs={this.doTheThing()} />\n          :\n          null\n        }\n\n      </div>\n\n    )\n  }\n}\n\nexport default MainContainer;\n"]},"metadata":{},"sourceType":"module"}